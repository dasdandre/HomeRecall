@page "/"

<!-- Header section with action buttons (Backup, Delete, Scan, Add) -->
<DeviceActionsHeader 
    HasSelectedItems="@_selectedItems.Any()" 
    SelectedItemsCount="@_selectedItems.Count" 
    IsMassBackingUp="@_isMassBackingUp"
    OnBackupSelected="BackupSelected"
    OnDeleteSelected="DeleteSelected"
    OnOpenScanDialog="OpenScanDialog"
    OnOpenAddDeviceDialog="OpenAddDeviceDialog"
/>

<!-- Main content area with loading state and list views -->
@if (_loading)
{
    <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="my-7" />
}
else if (!_devices.Any())
{
    <MudAlert Severity="Severity.Info" Variant="Variant.Filled">@L["Devices_NoDevices"]</MudAlert>
}
else
{
    <!-- Mobile View: Card based list -->
    <DeviceMobileList 
        Devices="@_devices" 
        IsBackingUp="@_isBackingUp"
        @bind-SearchString="_searchString"
        @bind-FilterType="_filterType"
        FilterFunc="@FilterDevices"
        OnBackupDevice="BackupDevice"
        OnNavigateToBackups="NavigateToBackups"
        OnEditDevice="EditDevice"
        OnDeleteDevice="DeleteDevice"
    />

    <!-- Desktop View: Table/DataGrid based list -->
    <DeviceDataGrid 
        Devices="@_devices" 
        @bind-SelectedItems="_selectedItems"
        IsBackingUp="@_isBackingUp"
        @bind-SearchString="_searchString"
        QuickFilter="@_quickFilter"
        Settings="@_settings"
        OnBackupDevice="BackupDevice"
        OnNavigateToBackups="NavigateToBackups"
        OnEditDevice="EditDevice"
        OnDeleteDevice="DeleteDevice"
    />
}




